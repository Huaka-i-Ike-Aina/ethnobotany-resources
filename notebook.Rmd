---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

# Scraping BM-EB

```{r scrape-bmeb}

# --- Install required packages only if missing ---

packages <- c("rvest", "xml2", "dplyr")

install_if_missing <- function(pkg) {
  if (!requireNamespace(pkg, quietly = TRUE)) {
    install.packages(pkg)
  }
}

invisible(lapply(packages, install_if_missing))

# --- Load libraries ---
library(rvest)
library(xml2)
library(dplyr)

# --- Define the URL ---
url <- "https://data.bishopmuseum.org/ethnobotanydb/ethnobotany.php?b=list&o=1"

# --- Read the HTML content ---
page <- read_html(url)

# --- Extract all <table> elements ---
tables <- page %>% html_nodes("table")

# --- Check how many tables are found ---
length(tables)

# --- Convert the first table to a data frame ---
ethno_table <- tables[[1]] %>% html_table(fill = TRUE)

# --- Preview the data ---
glimpse(ethno_table)

# Optional: View first rows
head(ethno_table)

# --- Create 'data' directory if it doesn't exist ---
if (!dir.exists("data")) {
  dir.create("data")
}

# --- Save the table as CSV in the 'data' directory ---
write.csv(ethno_table, file = "data/ethno_table.csv", row.names = FALSE)


```




# ethnobotany-resources

<!-- badges: start -->
<!-- badges: end -->

The goal of ethnobotany-resources is to collect datasets, field notes, and literature references for plants used in traditional medicine and cultural
practices.

# Ethnobotanical Resources

This repository collects datasets, field notes, and literature references  for plants used in traditional medicine and cultural practices.

```{r echo=FALSE, message=FALSE}

library(knitr)

# Load the data from your repo
databases <- read.csv("data/ethnobotanical_databases.csv")

# Render as a black-and-white Markdown table
kable(databases, format = "markdown", align = "l")
knitr::opts_knit$set(root.dir = "C:/Users/Stacy/OneDrive/Desktop/ethnobotany-resources2")

```
